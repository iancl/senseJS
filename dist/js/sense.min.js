//smskip:validation
/*
 * senseJS
 * version: 1.0.1
 * build date: 2014-10-01
 */
!function(a,b,c){var d={},e={isChrome:!1},f=parent.local_bind||function(a,b){var c=b;return function(){return c.apply(a,arguments)}},g=parent.bind_context||function(){var a,b=Array.prototype.slice.call(arguments,0),c=b.shift(0);for(a in b)c[b[a]]=f(c,c[b[a]]);b=null,c=null},h=function(c){this.options=c||{},this.isMouseDown=!1,this.touchStartPosX=0,this.currentPosX=0,this.touchStartPosY=0,this.currentPosY=0,this.isTouchSupported="ontouchstart"in a,this.element=b.querySelector(this.options.selector),this.options.context="undefined"!=typeof this.options.context?this.options.context:a,this.options.distance=this.options.distance||30,g(this,"touchmove","touchstart","touchend"),l.call(this),this.destroy=p},i=function(a){this.isTouchSupported===!0?(this.touchStartPosX=a.touches[0].clientX,this.touchStartPosY=a.touches[0].clientY):this.isMouseDown===!0&&(this.touchStartPosX=a.clientX,this.touchStartPosY=a.clientY)},j=function(a){var b;return this.isTouchSupported===!0?b=a.touches[0].clientX:this.isMouseDown===!0&&(b=a.clientX),b},k=function(a){var b;return this.isTouchSupported===!0?b=a.touches[0].clientY:this.isMouseDown&&(b=a.clientY),b},l=function(){this.isTouchSupported===!0?(this.element.addEventListener("touchstart",this.touchstart),this.element.addEventListener("touchmove",this.touchmove),this.element.addEventListener("touchend",this.touchend)):(this.element.addEventListener("mousedown",this.touchstart),b.addEventListener("mousemove",this.touchmove),this.element.addEventListener("mouseup",this.touchend))},m=function(){this.isTouchSupported?(this.element.removeEventListener("touchstart",this.touchstart),this.element.removeEventListener("touchmove",this.touchmove),this.element.removeEventListener("touchend",this.touchend)):(this.element.removeEventListener("mousedown",this.touchstart),b.removeEventListener("mousemove",this.touchmove),this.element.removeEventListener("mouseup",this.touchend))},n=function(){switch(this.direction){case"left":this.options.onLeft&&this.options.onLeft.call(this.options.context);break;case"right":this.options.onRight&&this.options.onRight.call(this.options.context);break;case"up":this.options.onUp&&this.options.onUp.call(this.options.context);break;case"down":this.options.onDown&&this.options.onDown.call(this.options.context)}},o=function(){this.goingLeft===!0?this.direction="left":this.goingRight===!0?this.direction="right":this.goingUp===!0?this.direction="up":this.goingDown===!0&&(this.direction="down"),this.tempDirection!==this.direction&&(this.touchStartTime=new Date,this.tempDirection=this.direction)},p=function(){m.call(this),this.options.context=null,delete this.context,this.element=null,delete this.element,this.options=null,delete this.options},q=function(a){return function(b){return 1-a(1-b)}},r=function(a){return Math.pow(a,2)},s={quad:q(r)},t=function(a){a.speed="undefined"!=typeof a.speed?a.speed:60,this.touchStartTime=0,this.touchEndTime=0,this.touchMoveTime=0,this.speedX=0,this.speedY=0,this.interval=c,this.fps=1e3/60,this.duration=900,this.animationStarted=!1,this.animationStartTime=0,this.animationTimePassed=0,this.totalTicks=0,this.direction="",this.tempDirection="",this.goingLeft=!1,this.goingRight=!1,this.goingUp=!1,this.goingDown=!1,this.delta=0,this.deacceleration=a.speed-a.distance.toString().substring(0,3),g(this,"animationRunLoop"),h.apply(this,arguments)};t.prototype={constructor:t,touchstart:function(a){this.isMouseDown=!0,this.stopRunLoop(),this.touchStartTime=new Date,i.apply(this,arguments),this.currentPosX=this.touchStartPosX,this.currentPosY=this.touchStartPosY,this.startPosX=this.touchStartPosX,this.startPosY=this.touchStartPosY,this.options.onTouchstart&&this.options.onTouchstart.call(this.options.context,{startX:this.touchStartPosX,startY:this.touchStartPosY,event:a})},touchmove:function(a){var b=j.apply(this,arguments),c=b-this.touchStartPosX,d=k.apply(this,arguments),f=d-this.touchStartPosY,g=!1,h=!1;this.touchMoveTime=new Date,g=this.isTouchSupported!==!0||this.options.allowVerticalScrolling!==!0||this.options.onUp||this.options.onDown||e.isChrome!==!1?!0:Math.abs(c)>10&&Math.abs(f)<25?!0:!1,g===!0&&a.preventDefault(),this.goingRight=!1,this.goingLeft=!1,this.goingDown=!1,this.goingUp=!1,c>this.options.distance&&(this.touchStartPosX=b,this.goingRight=!0,h=!0),-1*c>this.options.distance&&(this.touchStartPosX=b,this.goingLeft=!0,h=!0),f>this.options.distance&&(this.touchStartPosY=d,this.goingDown=!0,h=!0),-1*f>this.options.distance&&(this.touchStartPosY=d,this.goingUp=!0,h=!0),h===!0&&(o.call(this),n.call(this))},handleVelocity:function(a,b){var c=Math.abs(a-this.startPosX)+this.deacceleration,d=Math.abs(b-this.startPosY)+this.deacceleration,e=this.touchEndTime-this.touchStartTime,f=c/e*10,g=d/e*10,h=!1;this.speedX=f,this.speedY=g,o.call(this),(this.speedX>1||this.speedY>1)&&(h=!0),h===!0&&this.startRunLoop()},animationRunLoop:function(){var a,b;this.animationStarted===!1&&(this.startTime=new Date,this.animationStarted=!0),this.totalTicks++,this.timePassed=new Date-this.startTime,a=this.timePassed/this.duration,a>1&&(a=1),a=s.quad(a),b=Math.ceil("left"==this.direction||"right"==this.direction?this.speedX*a:this.speedY*a),this.delta!=b&&(this.delta=b,n.call(this)),1===a&&this.stopRunLoop()},touchend:function(a){this.touchEndTime=new Date;var b=this.touchEndTime-this.touchMoveTime,c=new Date(b).getTime()/1e3;this.options.enableMomentum===!0&&.2>c&&this.options.speed>0&&this.handleVelocity(this.touchStartPosX,this.touchStartPosY),this.touchstartX=0,this.touchstartY=0,this.isMouseDown=!1,this.options.onTouchend&&this.options.onTouchend.call(this.options.context,{event:a})},startRunLoop:function(){this.interval=setInterval(this.animationRunLoop,this.fps)},stopRunLoop:function(){clearInterval(this.interval),this.totalTicks=0,this.animationStarted=!1,this.direction="",this.tempDirection="",this.goingLeft=!1,this.goingRight=!1,this.goingUp=!1,this.goingDown=!1}};var u=function(){h.apply(this,arguments)};u.prototype={constructor:u,alreadySwiped:!1,touchstart:function(a){this.isMouseDown=!0,this.alreadySwiped=!1,i.apply(this,arguments),this.currentPosX=this.touchStartPosX,this.currentPosY=this.touchStartPosY,this.options.onTouchstart&&this.options.onTouchstart.call(this.options.context,{startX:this.touchStartPosX,startY:this.touchStartPosY,event:a})},touchmove:function(a){if(this.isMouseDown!==!1&&this.alreadySwiped!==!0){var b=j.apply(this,arguments),c=b-this.touchStartPosX,d=k.apply(this,arguments),f=d-this.touchStartPosY,g=!1;this.options.onTouchmove&&this.options.onTouchmove.call(this.options.context,{currentX:b,currentY:d,startX:this.touchStartPosX,startY:this.touchStartPosY,event:a}),g=this.isTouchSupported!==!0||this.options.allowVerticalScrolling!==!0||this.options.onUp||this.options.onDown||e.isChrome!==!1?!0:Math.abs(c)>10&&Math.abs(f)<25?!0:!1,g===!0&&a.preventDefault(),c>this.options.distance&&(this.touchStartPosX=b,this.alreadySwiped=!0,this.options.onRight&&this.options.onRight.call(this.options.context,{currentX:b,currentY:d,event:a})),-1*c>this.options.distance&&(this.touchStartPosX=b,this.alreadySwiped=!0,this.options.onLeft&&this.options.onLeft.call(this.options.context,{currentX:b,currentY:d,event:a})),f>this.options.distance&&(this.touchStartPosY=d,this.alreadySwiped=!0,this.options.onDown&&this.options.onDown.call(this.options.context,{currentX:b,currentY:d,event:a})),-1*f>this.options.distance&&(this.touchStartPosY=d,this.alreadySwiped=!0,this.options.onUp&&this.options.onUp.call(this.options.context,{currentX:b,currentY:d,event:a}))}},touchend:function(a){this.touchstartX=0,this.touchstartY=0,this.isMouseDown=!1,this.alreadySwiped=!1,this.options.onTouchend&&this.options.onTouchend.call(this.options.context,{event:a})}},d.onTouchMove=function(a){return new t(a)},d.onTouchSwipe=function(a){return new u(a)},a.Sense=d}(this,document);